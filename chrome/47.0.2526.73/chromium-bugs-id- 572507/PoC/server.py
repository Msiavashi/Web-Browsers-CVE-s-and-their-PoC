#!/usr/bin/env python
import signal
import sys
import subprocess

# Start both servers on different ports
site1 = subprocess.Popen("cd site1; python -m SimpleHTTPServer 8000", shell=True)
site2 = subprocess.Popen("cd site2; python -m SimpleHTTPServer 8001", shell=True)

# Print Instructions
print ('------\n\
Servers started. Open Google Chrome on the following URLs\n\
in the sequence they appear to reproduce the bug.\n\
------\n\
1. http://127.0.0.1:8000\n\
2. http://127.0.0.1:8001\n\
------')

# Terminate the processes we started if we hit Ctrl+C in the terminal
def signal_handler(signal, frame):
	subprocess.Popen.terminate(site1)
	subprocess.Popen.terminate(site2)
	print('Bye')
	sys.exit(0)

signal.signal(signal.SIGINT, signal_handler)
print('Press Ctrl+C to exit')
signal.pause()
